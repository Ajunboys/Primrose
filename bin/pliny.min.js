!function(a){function b(a,b){for(var c=b.split("."),d=0;d<c.length&&a;++d)a=a[c[d]];return a}function c(a,c){return"string"==typeof c||c instanceof String?b(a,c):c}function d(a){for(var b=k,c=a.split("."),d="",e=0;e<c.length;++e)b[c[e]]||(b[c[e]]={}),d.length>0&&(d+="."),d+=c[e],b=b[c[e]],d.length>0&&!b.name&&(b.name=d);return b}function e(a,b,c){if(c){if("string"==typeof c||c instanceof String){var e=b.split(".");c={name:e.pop(),description:c},b=e.join(".")}"undefined"==typeof c.fieldType&&(c.fieldType=a),!c.parent&&b.length>0&&(c.parent=b);var g=k;b.length>0&&(g=d(b));var h=a+"s";h=h.replace(/ys$/,"ies").replace(/ss$/,"ses"),g[h]||(g[h]=[]);for(var i=g[h],j=!1,l=0;l<i.length;++l)i[l].name===c.name&&(j=!0);if(!j){var m={};for(var o in c)"examples"===o&&(m[o]=c[o],delete c[o]);c=f(c),i.push(c),i.sort(function(a,b){var c=a.fullName,d=b.fullName;return"[Global]"===c&&(c="A"+c),"[Global]"===d&&(d="A"+d),c>d?1:d>c?-1:0}),"class"===c.fieldType&&c.baseClass&&n.theElder.subClass(c.baseClass,c);for(var o in m)for(var p=m[o],q=o.substring(0,o.length-1),l=0;l<p.length;++l)n.theElder[q](c.fullName,p[l])}}}function f(a){var b=(a.parent&&a.parent+"."||"")+a.name,c=d(b);if(!c.fieldType){for(var e in a)c[e]=a[e];c.fullName||Object.defineProperty(c,"fullName",{get:function(){var a="";return this.parent&&(a+=this.parent,a+="method"===this.fieldType||"property"===this.fieldType||"event"===this.fieldType?"::":"example"===this.fieldType?": ":"."),a+=this.name}}),c.id||Object.defineProperty(c,"id",{get:function(){return this.fullName.replace(/(\.|:)/g,"_").replace(/ /g,"")}}),g(b)||setTimeout(g,1,b)}return c}function g(a){var c=b(window,a);if(c){if("function"==typeof c)for(var d=c.toString(),e=null;e=l.exec(d);){var f=e[1],g=e.index+e[0].length,i=h(d.substring(g));1===i.length?i.unshift(a):i[0]=a+"."+i[0],n.theElder[f].apply(null,i)}c.help=n.theYounger.bind(null,a)}return c}function h(a){for(var b=[],c=0,d=0,e=0,f=!1;c<a.length;++c){var g=a.charAt(c);if('"'!==g||0!==c&&"\\"===a.charAt(c-1)||(f=!f),f||("("===g||"{"===g||"["===g?++e:(")"===g||"}"===g||"]"===g)&&--e),(0===e||1===e&&","===g&&!f)&&(b.push(j(a.substring(d+1,c).trim())),d=c,0===e))break}return b}function i(a){return a}function j(a){var b=[],c=a.replace(/"(\\"|[^"])+"/g,function(a){var c="&STRING_LIT"+b.length+";";return b.push(a),c}).replace(/\b(\w+)\b\s*:/g,'"$1":').replace(/&STRING_LIT(\d+);/g,function(a,c){return b[c]});try{return JSON.parse(c)}catch(d){throw console.error(a,"=>",c),d}}var k={fieldType:"database",fullName:"[Global]",id:"Global",description:"These are the elements in the global namespace."},l=/\bpliny\s*\.\s*theElder\s*\.\s*(\w+)/gm,m={format:function(a){var c=null;if(c="string"==typeof a||a instanceof String?b(k,a):a){var d=this.shortDescription(!0,c);return d+="\n\n"+["parent","description","parameters","returns","errors","namespaces","classes","functions","values","events","properties","methods","enumerations","records","references","examples"].map(m.checkAndFormatField.bind(this,c)).filter(i).join("\n")}},checkAndFormatField:function(a,b,c){var d=a[b];return d?this.formatField(a,b,d,c):void 0}};m.html={format:function(a){var b=c(k,a);return'<section id="'+b.id+'" class="'+b.fieldType+'"><article>'+m.format.call(m.html,b)+"</article></section>"},formatField:function(a,b,c){var d="";return d+=c instanceof Array?this.formatArray(a,b,c):"parent"===b?'<p>Contained in <a href="#'+n.get(c).id+'">'+c+"</a></p>":"description"===b?this.endocumate(c):"<dl><dt>"+b+"</dt><dd>"+c+"</dd></dl>"},endocumate:function(a,b){if(void 0===b&&(b=0),5>b){var c=[];return"<p>"+a.replace(/(``?)([^`]+)\1/g,function(a,b,d){var e="&PRE_SNIP"+c.length+";",f="``"===b?"pre":"code",g=d.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;");return c.push("<"+f+">"+g+"</"+f+">"),e}).replace(/&(?!\w+;)/g,"&amp;").replace(/((\*|-)\s*){3,}\n/g,"<hr>").replace(/^([^\n]+)\n=+\n/gm,"<h1>$1</h1>").replace(/^([^\n]+)\n-+\n/gm,"<h2>$1</h2>").replace(/(#{1,6})\s*([^#\n]+)\s*#*\n/g,function(a,b,c){var d=b.length;return"<h"+d+">"+c+"</h"+d+">"}).replace(/(^(\*|-|\+|\d+\.)\s+[^\n]+\n)+/gm,function(a){var b=/\d/.test(a[0])?"ol":"ul";return"<"+b+">"+a.replace(/(\*|-|\+|\d+\.)\s+([^\n]+)\n/g,"<li>$2</li>")+"</"+b+">"}).replace(/(^> [^\n]+\n)+/gm,function(a){return"<blockquote>"+this.endocumate(a.replace(/^> /gm,""),b+1)+"</blockquote>"}.bind(this)).replace(/!\[([^\]]+)\]\s*\(([^\)]+)\)/g,'<img title="$1" alt="diagram" src="$2">').replace(/\[([^\]]+)\]\s*\(([^\)]+)\)/g,'<a href="$2">$1</a>').replace(/<(?!\/|(a|abbr|address|area|article|aside|audio|b|base|bdi|bdo|bgsound|blockquote|body|br|button|canvas|caption|cite|code|col|colgroup|command|content|data|datalist|dd|del|details|dfn|dialog|div|dl|dt|element|em|embed|fieldset|figcaption|figure|footer|form|h1|h2|h3|h4|h5|h6|head|header|hgroup|hr|html|i|iframe|img|input|ins|kbd|label|legend|li|link|main|map|mark|menu|menuitem|meta|meter|nav|nobr|noframes|noscript|object|ol|optgroup|option|output|p|param|picture|pre|progress|q|rp|rt|rtc|ruby|s|samp|script|section|select|shadow|small|source|span|strong|style|sub|summary|sup|table|tbody|td|template|textarea|tfoot|th|thead|time|title|tr|track|u|ul|var|video|wbr)\b)/g,"&lt;").replace(/\n\s*\n/g,"</p><p>").replace(/  \n/g,"<br>").replace(/&PRE_SNIP(\d+);/g,function(a,b){return c[b]})+"</p>"}},descriptionFormat:function(a,b){var c=b.slice();return"<p>"+c.join("</p><p>")+"</p>"},examplesFormat:function(a,b){for(var c="",d=0;d<b.length;++d){var e=b[d];c+='<div><h4><a href="#'+e.id+'">'+e.name+"</a></h4>"+this.endocumate(e.description)+"</div>"}return c},referencesFormat:function(a,b){for(var c="<ol>",d=0;d<b.length;++d)c+='<li><a href="'+b[d].description+'" target="_blank">'+b[d].name+"</a></li>";return c+"</ol>"},formatArray:function(a,b,c){var d="<h3>";"class"===a.fieldType&&("parameters"===b?d+="constructor ":"functions"===b&&(d+="static ")),"description"!==b&&(d+=b),d+="</h3>";var e=b+"Format";return d+=this[e]?this[e](a,c):'<ul class="'+b+'">'+c.map(this.formatArrayElement.bind(this,b)).join("")+"</ul>"},formatArrayElement:function(a,b){var c="<li>";return b.description?(c+="<dl><dt>"+this.shortDescription(!1,b)+"</dt><dd>",c+=b.description instanceof Array?b.description[0]:b.description,c+="</dd></dl>"):c+=this.shortDescription(!1,b),c+="</li>"},shortDescription:function(a,b){var c="",d=a?"h2":"span",e="function"===b.fieldType||"method"===b.fieldType||"event"===b.fieldType,f=e||"class"===b.fieldType||"namespace"===b.fieldType||"enumeration"===b.fieldType||"subClass"===b.fieldType||"record"===b.fieldType;return c+="<"+d+">",f&&!a&&(c+='<a href="#'+b.id+'">'),c+="<code>"+(a&&"example"!==b.fieldType?b.fullName:b.name),b.type&&(c+=' <span class="type">'+b.type+"</span>"),e&&(c+='<ol class="signatureParameters">',b.parameters&&(c+="<li>"+b.parameters.map(function(a){return a.name}).join("</li><li>")+"</li>"),c+="</ol>"),f&&!a&&(c+="</a>"),c+"</code></"+d+">"}},m.console={format:function(a){var b=m.format.call(m.console,a);return console.log(b),b},formatField:function(a,b,c){return c instanceof Array?this.formatArray(a,b,c):"description"===b?"	"+c+"\n":"	"+b+": "+c+"\n"},formatArray:function(a,b,c){var d="	";return"class"===a.fieldType&&("parameters"===b?d+="constructor ":"functions"===b&&(d+="static ")),"description"!==b&&(d+=b+":\n"),"description"===b&&c instanceof Array&&(c=c.join("\n\n	")+"\n"),d+=c instanceof Array?c.map(this.formatArrayElement.bind(this,b)).join(""):c},formatArrayElement:function(a,b,c){var d="		"+c+": "+this.shortDescription(!1,b);return b.description&&(d+=" - ",d+=b.description instanceof Array?b.description[0]:b.description,"parameters"!==a&&"properties"!==a&&"methods"!==a&&d.length>200&&(d=d.substring(0,200)+"...")),d+="\n"},shortDescription:function(a,b){var c="";return(a||b.type)&&(c+="["+(b.type||b.fieldType)+"] "),c+=a?b.fullName:b.name,("function"===b.fieldType||"method"===b.fieldType)&&(c+="(",b.parameters&&(c+=b.parameters.map(this.shortDescription.bind(this,!1)).join(", ")),c+=")"),c}};var n={theElder:{},theYounger:m.console.format,database:k,formats:m};n.get=b.bind(null,n.database),["namespace","event","function","value","class","property","method","enumeration","record","subClass","example","reference","error"].forEach(function(a){n.theElder[a]=e.bind(null,a)}),a.exports=n}("undefined"!=typeof module&&module||function(a){var b={};return Object.defineProperty(b,"exports",{get:function(){return window[a]},set:function(b){window[a]=b}}),b}("pliny"));