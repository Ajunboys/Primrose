!function(a,b){function c(a){for(var b=1,c=0,d=a.split("").map(function(a){return a.charCodeAt(0)}),e=0;e<d.length;++e)b=(b+d[e])%32771,c=(c+b)%32771;return c<<8|b}function d(a,b){for(var c=b.split("."),d=0;d<c.length&&a;++d)a=a[c[d]];return a}function e(a,b){return"string"==typeof b||b instanceof String?d(a,b):b}function f(a){var b=p;if("undefined"!=typeof a&&a.length>0)for(var c=a.split("."),d="",e="",f=0;f<c.length;++f)"undefined"==typeof b[c[f]]&&(b[c[f]]={}),d+=e+c[f],e=".",b=b[c[f]],d.length>0&&!b.name&&(b.name=d);return b}function g(a,b,c){if(c){if("string"==typeof c||c instanceof String){var d=null;if("page"===a)d=b,b="";else{var e=b.split(".");d=e.pop(),b=e.join(".")}c={name:d,description:c}}"undefined"==typeof c.fieldType&&(c.fieldType=a),!c.parent&&b.length>0&&(c.parent=b);var g=f(b),i=a+"s";i=i.replace(/ys$/,"ies").replace(/ss$/,"ses"),g[i]||(g[i]=[]);for(var j=g[i],k=!1,l=0;l<j.length;++l)j[l].name===c.name&&(k=!0);if(!k){var m={};["examples","issues","comments"].forEach(function(a){"undefined"!=typeof c[a]&&(m[a]=c[a],delete c[a])}),c=h(c),j.push(c),"class"===c.fieldType&&c.baseClass&&s.subClass(c.baseClass,c);for(var n in m)for(var o=m[n],p=n.substring(0,n.length-1),l=0;l<o.length;++l)s[p](c.fullName.replace(/::/g,"."),o[l])}return c.value}}function h(a){var b=(a.parent&&a.parent+"."||"")+a.name,d=f(b);if(!d.fieldType){for(var e in a)d[e]=a[e];d.fullName||("issue"===d.fieldType&&Object.defineProperty(d,"issueID",{get:function(){return c(this.parent+"."+this.name)}}),Object.defineProperty(d,"fullName",{get:function(){var a="";return this.parent&&(a+=this.parent,a+="method"===this.fieldType||"property"===this.fieldType||"event"===this.fieldType?"::":"example"===this.fieldType||"issue"===this.fieldType?": ":"."),a+=this.name}})),d.id||Object.defineProperty(d,"id",{get:function(){return this.fullName.replace(/(\.|:)/g,"_").replace(/ /g,"")}}),i(b)||setTimeout(i,1,b)}return d}function i(a){var b=d(window,a);if(b){if("function"==typeof b)for(var c=b.toString(),e=null;e=q.exec(c);){var f=e[1],g=e.index+e[0].length,h=j(a,c.substring(g));1===h.length?h.unshift(a):h[0]=a+"."+h[0],s[f].apply(null,h)}b.help=s.bind(null,a)}return b}function j(a,b){for(var c=[],d=0,e=0,f=0,g=!1;d<b.length;++d){var h=b.charAt(d);if('"'!==h||0!==d&&"\\"===b.charAt(d-1)||(g=!g),g||("("===h||"{"===h||"["===h?++f:(")"===h||"}"===h||"]"===h)&&--f),(0===f||1===f&&","===h&&!g)&&(c.push(l(a,b.substring(e+1,d).trim())),e=d,0===f))break}return c}function k(a){return a}function l(a,b){var c=[],d=function(a){var b="&STRING_LIT"+c.length+";";return"'"===a[0]&&(a=a.replace(/\\"/g,"&_DBLQUOTE_;").replace(/\\'/g,"&_SGLQUOTE_;").replace(/"/g,'\\"').replace(/'/g,'"').replace(/&_DBLQUOTE_;/g,'\\"').replace(/&_SGLQUOTE_;/g,"\\'")),c.push(a),b},e=function(a,b){return c[b]},f=b.replace(/'(\\'|[^'])+'/g,d).replace(/"(\\"|[^"])+"/g,d).replace(/\b(\w+)\b\s*:/g,'"$1":').replace(/&STRING_LIT(\d+);/g,e).replace(/&STRING_LIT(\d+);/g,e).replace(/\\\r?\n/g,"");try{return JSON.parse(f)}catch(g){throw console.error(a+": "+b+" => "+f),g}}function m(a,b,c){if(a&&a.length>0){if("undefined"==typeof b)return new Promise(m.bind(null,a));var d=function(){0===a.length?b():Primrose.HTTP.getText(a.shift(),function(a){var b="";a=a.replace(/^#*\s+([^\n]+)\r?\n\s*/,function(a,c){return b=c,""}),s.page(b,a),d()},c)};d(0)}}function n(a,b){for(var c in b){var d=b[c];b.hasOwnProperty(c)&&"number"==typeof d&&s.value(a,{name:c,type:"Number",description:d.toString(),value:d})}}var o=b("marked"),p={fieldType:"database",fullName:"[Global]",id:"Global",description:"These are the elements in the global namespace."},q=/\bpliny\s*\.\s*(\w+)/gm,r={format:function(a){var b=null;if(b="string"==typeof a||a instanceof String?d(p,a):a){var c=this.shortDescription(!0,b);return c+="\n\n"+["parent","description","parameters","returns","errors","pages","namespaces","classes","functions","values","events","properties","methods","enumerations","records","examples","issues","comments"].map(r.checkAndFormatField.bind(this,b)).filter(k).join("\n")}},checkAndFormatField:function(a,b,c){var d=a[b];return d?this.formatField(a,b,d,c):void 0}};r.html={format:function(a){var b=e(p,a);return'<section id="'+b.id+'" class="'+b.fieldType+'"><article>'+r.format.call(r.html,b)+"</article></section>"},formatField:function(a,b,c){var d="";return d+="enumeration"===a.fieldType&&"values"===b?this.formatEnumeration(a,b,c):"page"===a.fieldType&&"description"===b?o(c):c instanceof Array?this.formatArray(a,b,c):"parent"===b?'<p>Contained in <a href="#'+s.get(c).id+'">'+c+"</a></p>":"description"===b?o(c):"returns"===b?"<h3>Return value</h3>"+o(c):"<dl><dt>"+b+"</dt><dd>"+c+"</dd></dl>"},formatEnumeration:function(a,b,c){for(var d="<table><thead><tr><th>Name</th><th>Value</th><tr><thead><tbody>",e=0;e<c.length;++e){var f=c[e];d+="<tr><td>"+f.name+"</td><td>"+f.description+"</td></tr>"}return d+="</tbody></table>"},examplesFormat:function(a,b){for(var c="",d=0;d<b.length;++d){var e=b[d];c+='<div><h3><a href="#'+e.id+'">'+e.name+"</a></h3>"+o(e.description)+"</div>"}return c},issuesFormat:function(a,b){for(var c={open:"",closed:""},d=0;d<b.length;++d){var e=b[d],f='<div><h3><a href="#'+e.id+'">'+e.issueID+": "+e.name+" ["+e.type+"]</a></h3>"+o(e.description)+"</div>";c[e.type]+=f}return c.open+"<h2>Closed Issues</h2>"+c.closed},commentsFormat:function(a,b){for(var c="",d=0;d<b.length;++d){var e=b[d];c+="<aside><h3>"+e.name+"</h3>"+o(e.description),"undefined"!=typeof e.comments&&e.comments instanceof Array&&(c+=this.formatArray(e,"comments",e.comments)),c+="</aside>"}return c},formatArray:function(a,b,c){var d="<h2>";"class"===a.fieldType&&("parameters"===b?d+="constructor ":"functions"===b&&(d+="static ")),"description"!==b&&(d+=b),d+="</h2>";var e=b+"Format";return d+=this[e]?this[e](a,c):'<ul class="'+b+'">'+c.map(this.formatArrayElement.bind(this,b)).join("")+"</ul>"},formatArrayElement:function(a,b){var c="<li>";if(b.description){var d=b.description.match(/^(([^\n](\n[^\n])?)+)\n\n/);d=d?d[1]+"...":b.description,c+="<dl><dt>"+this.shortDescription(!1,b)+"</dt><dd>"+o(d)+"</dd></dl>"}else c+=this.shortDescription(!1,b);return c+="</li>"},shortDescription:function(a,b){var c="",d=a?"h1":"span",e="function"===b.fieldType||"method"===b.fieldType||"event"===b.fieldType,f=e||"class"===b.fieldType||"namespace"===b.fieldType||"enumeration"===b.fieldType||"subClass"===b.fieldType||"record"===b.fieldType;return c+="<"+d+">",f&&!a&&(c+='<a href="#'+b.id+'">'),"page"!==b.fieldType&&(c+="<code>"),c+=a&&"example"!==b.fieldType?b.fullName:b.name,b.type&&(c+=' <span class="type">'+b.type+"</span>"),e&&(c+='<ol class="signatureParameters">',b.parameters&&(c+="<li>"+b.parameters.map(function(a){return a.name}).join("</li><li>")+"</li>"),c+="</ol>"),f&&!a&&(c+="</a>"),"page"!==b.fieldType&&(c+="</code>"),c+"</"+d+">"}},r.console={format:function(a){return r.format.call(r.console,a)},formatField:function(a,b,c){return c instanceof Array?this.formatArray(a,b,c):"description"===b?"	"+c+"\n":"	"+b+": "+c+"\n"},formatArray:function(a,b,c){var d="	";return"class"===a.fieldType&&("parameters"===b?d+="constructor ":"functions"===b&&(d+="static ")),"description"!==b&&(d+=b+":\n"),d+=c instanceof Array?c.map(this.formatArrayElement.bind(this,b)).join(""):c},formatArrayElement:function(a,b,c){var d="		"+c+": "+this.shortDescription(!1,b);return b.description&&(d+=" - "+b.description,"parameters"!==a&&"properties"!==a&&"methods"!==a&&d.length>200&&(d=d.substring(0,200)+"...")),d+="\n"},shortDescription:function(a,b){var c="";return(a||b.type)&&(c+="["+(b.type||b.fieldType)+"] "),c+=a?b.fullName:b.name,("function"===b.fieldType||"method"===b.fieldType)&&(c+="(",b.parameters&&(c+=b.parameters.map(this.shortDescription.bind(this,!1)).join(", ")),c+=")"),c}};var s=r.console.format;s.database=p,s.formats=r,s.get=d.bind(null,s.database),s.load=m,s.setEnumerationValues=n,["namespace","event","function","value","class","property","method","enumeration","record","subClass","example","error","issue","comment","page"].forEach(function(a){s[a]=g.bind(null,a)}),a.exports=s}("undefined"!=typeof module&&module||function(a){var b={};return Object.defineProperty(b,"exports",{get:function(){return window[a]},set:function(b){window[a]=b}}),b}("pliny"),function(a){return window[a]});