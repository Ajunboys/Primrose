function rosetta_24_game(){function twentyfour(numbers,input){var invalidChars=/[^\d\+\*\/\s-\(\)]/,validNums=function(a){var b=numbers.slice();return b.sort(),a.replace(/[^\d\s]/g," ").trim().split(/\s+/).map(function(a){return parseInt(a,10)}).sort().every(function(a,c){return a===b[c]})},validEval=function(input){try{return eval(input)}catch(e){return{error:e.toString()}}};if(""===input.trim())return"You must enter a value.";if(input.match(invalidChars))return"Invalid chars used, try again. Use only:\n + - * / ( )";if(!validNums(input))return"Wrong numbers used, try again.";var calc=validEval(input);return"number"!=typeof calc?"That is not a valid input; please try again.":24!==calc?"Wrong answer: "+String(calc)+"; please try again.":input+" == 24.  Congratulations!"}for(;;){var numbers=[1,2,3,4].map(function(){return Math.floor(8*Math.random()+1)}),input=prompt("Your numbers are:\n"+numbers.join(" ")+"\nEnter expression. (use only + - * / and parens).\n",0/0,"");if("x"===input)break;alert(twentyfour(numbers,input))}}